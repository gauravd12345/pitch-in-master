{% extends "base.html" %}

{% block heading %}
    <title>Feed</title>
{% endblock %}

{% block content %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="{{ url_for('index') }}">Pitch-In</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="navbar-nav">
                <a class="nav-item nav-link" href="{{ url_for('index') }}">Explore <span class="sr-only">(current)</span></a>
                <a class="nav-item nav-link active" href="{{ url_for('feed') }}">Feed</a>
                <a class="nav-item nav-link" href="{{ url_for('new_post') }}">New Post</a>
                <a class="nav-item nav-link" href="{{ url_for('profile_page') }}">My Profile</a>
                <a class="logout nav-item nav-link" href="{{ url_for('logout') }}">Logout</a>
            </div>
        </div>
    </nav>

    <table class="table">
        <tr>
            <th>User</th>
            <th>Items</th>
            <th>Committed</th>
        </tr>

        {% for x in range(leng): %}
            <tr>
                <td>{{ usernames[x] }}</td>
                <td>
                    {% if usernames[x]|length > 0 %}
                        {% for i in range(0, checklist[x]|length) %}
                            {% if i == checklist[x]|length-1 %}
                                {{ checklist[x][i] }}
                            {% else %}
                                {{ checklist[x][i] }},
                            {% endif %}
                        {% endfor %}
                    {% else %}
                        - 
                    {% endif %}
                </td>
                <td>
                    {% if commits[x]|length > 0 %}
                        {% for i in range(0, commits[x]|length) %}
                            {% if i == commits[x]|length-1 %}
                                {{ commits[x][i] }}
                            {% else %}
                                {{ commits[x][i] }},
                            {% endif %}
                        {% endfor %}
                    {% else %}
                        - 
                    {% endif %}
                </td>
            </tr>

            {% endfor %}

    </table>
    
{% endblock %}
